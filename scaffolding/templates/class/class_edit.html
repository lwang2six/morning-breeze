<script type="text/javascript" src="{{ MEDIA_URL }}js/jquery-1.7.2.min.js"></script>

<form method="post" action="">{% csrf_token %}
<table id='b'>
{{form}}

{{formset.management_form}}
{% for f in formset.forms %}
{{f}}
{% endfor %}
</table>

<input type="button" id="one_more" value="Add Another">
<input type="submit" value="Submit" name="save" class="button" />
</form>
{{formset.total_form_count}}
<script>
  $(document).ready(function(){
      $('#one_more').click(function(){
          var v = +$('#id_field_set-TOTAL_FORMS').val();
          var extras = [];
          extras.push('<tr><th><label for="id_field_set-',v,'-name">Name:</label></th><td><input id="id_field_set-',v,'-name" type="text" maxlength="30" name="field_set-',v,'-name"></td></tr><tr><th><label for="id_field_set-',v,'-type">Type:</label></th><td><select id="id_field_set-',v,'-type" name="field_set-',v,'-type"><option selected="selected" value="">---------</option><option value="1">BooleanField</option><option value="2">CharField</option><option value="3">DateTimeField</option><option value="4">FileField</option><option value="5">ForeignKey</option><option value="6">IntegerField</option><option value="7">ImageField</option><option value="8">PositiveIntegerField</option><option value="9">TextField</option></select</td></tr><tr><th><label for="id_field_set-',v,'-options_0">Options:</label></th><td><ul><li><label for="id_field_set-',v,'-options_0"><input type="checkbox" name="field_set-',v,'-options" value="blank=True" id="id_field_set-',v,'-options_0" /> blank</label></li><li><label for="id_field_set',v,'options_1"><input type="checkbox" name="field_set',v,'options" value="choices=[]" id="id_field_set',v,'options_1" /> choices</label></li><li><label for="id_field_set',v,'options_2"><input type="checkbox" name="field_set',v,'options" value="default=&quot;&quot;" id="id_field_set',v,'options_2" /> default</label></li><li><label for="id_field_set',v,'options_3"><input type="checkbox" name="field_set',v,'options" value="editable=False" id="id_field_set',v,'options_3" /> editable</label></li><li><label for="id_field_set',v,'options_4"><input type="checkbox" name="field_set',v,'options" value="help_text=&quot;some help text for this field&quot;" id="id_field_set',v,'options_4" /> help text</label></li><li><label for="id_field_set',v,'options_5"><input type="checkbox" name="field_set',v,'options" value="max_length=1" id="id_field_set',v,'options_5" /> max length</label></li><li><label for="id_field_set',v,'options_6"><input type="checkbox" name="field_set',v,'options" value="null=True" id="id_field_set',v,'options_6" /> null</label></li><li><label for="id_field_set',v,'options_7"><input type="checkbox" name="field_set',v,'options" value="related_name=&quot;some_special_name&quot;" id="id_field_set',v,'options_7" /> related name</label></li><li><label for="id_field_set',v,'options_8"><input type="checkbox" name="field_set',v,'options" value="unique=False" id="id_field_set',v,'options_8" /> unique</label></li><li><label for="id_field_set',v,'options_9"><input type="checkbox" name="field_set',v,'options" value="verbose_name=&quot;display name&quot;" id="id_field_set',v,'options_9" /> verbose name</label></li></ul><input type="hidden" name="field_set',v,'id" id="id_field_set',v,'id" /><input type="hidden" name="field_set',v,'parent_class" value={{clas.id}} id="id_field_set',v,'parent_class" /></td></tr>')
          $('#id_field_set-TOTAL_FORMS').val(+v+1);
          $('tbody tr:last').after(extras.join(''));
      });
    });
</script>
